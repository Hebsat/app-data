# Welcome to app-data
![Version](https://img.shields.io/badge/version-1.0-blue.svg?cacheSeconds=2592000)

> –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –≤—ã–¥–∞–µ—Ç jwt-—Ç–æ–∫–µ–Ω –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞, 
> –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ç–æ–∫–µ–Ω, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ë–î –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.


## –ê–≤—Ç–æ—Ä

üë§ **Yuri Kaleganov**

* Github: [@Yuri_Kaleganov](https://github.com/Hebsat)

## –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ë–î MySQL. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 8087. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–ª–∏—á–∏–µ –ë–î app_data –∏ app_data-test. 
–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–∫–∞–∑–∞–Ω—ã –≤ application.properties.

–í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ —É–∫–∞–∑–∞–Ω—ã 2 —ç–Ω–¥–ø–æ–π–Ω—Ç–∞: /admin/login –∏ /admin/send.
–ü–æ –∞–¥—Ä–µ—Å—É /admin/login –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –≤ POST –∑–∞–ø—Ä–æ—Å–µ, –≤ —Ç–µ–ª–µ JSON –≤–∏–¥–∞:
```json
{
  "name": "–∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è",
  "password": "–ø–∞—Ä–æ–ª—å"
}
```
–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 Bad Request (Invalid username –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞).
–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª—å. –ü—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 Bad Request (Invalid password –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞).
–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç jwt-—Ç–æ–∫–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ –≤–∏–¥–µ
```json
{
  "token": "—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω"
}
```
–í —Ç–æ–∫–µ–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤—Ä–µ–º—è –≤—ã–¥–∞—á–∏ –∏ —Å—Ä–æ–∫ –æ–∫–æ–Ω—á–∞–Ω–∏—è. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç 30 –¥–Ω–µ–π.
–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∏ –∫–ª—é—á –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ application.properties.


–ü—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ POST /admin/send –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç jwt-—Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∏ JSON –≤ —Ç–µ–ª–µ
```json
{
  "name":       "–∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è",
  "message":    "—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ"
}
```
–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞. –ï—Å–ª–∏ –∏—Å—Ç–µ–∫ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∏–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 403 Forbidden (Token validate failed –≤ —Ç–µ–ª–µ)
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ. –î–∞–ª–µ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ —ç—Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è. 
–ï—Å–ª–∏ –æ–Ω–æ –≤–∏–¥–∞ 
```json
{
  "name":       "–∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è",
  "message":    "history X"
}
```
—Ç–æ –ø–æ–ª—É—á–µ—Ç –• –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –ë–î –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞. 

## –ó–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª

–õ–æ–≥–∏–Ω:<br>
```
curl -H "Content-Type: application/json" -X POST -d "{\"name\":\"user1\",\"password\":\"111\"}" http://localhost:8087/admin/login
```
```
curl -H "Content-Type: application/json" -X POST -d '{"name":"user1","password":"111"}' http://localhost:8087/admin/login
```
–¥–ª—è —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ localhost:8087/admin/login –æ—Ç–ø—Ä–∞–≤–∏—Ç—å 
```json
{
  "name" : "user1",
  "password" : "111"
}
```
(–≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ë–î —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ–ª—å–∑–∞–≤–∞—Ç–µ–ª—å user1 —Å –ø–∞—Ä–æ–ª–µ–º 111)

![img.png](img.png)


–ü–æ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:<br> 
```
curl -X POST -H "Authorization: Bearer_eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTY2MTUwODU3OCwiZXhwIjoxNjY0MTAwNTc4fQ.DfO96ZYAVsoJqpIrIZ0kGPxgNVOvvPFvHae5CGiHoeU" -H "Content-Type: application/json" -d "{\"name\":\"user1\",\"message\":\"history 3\"}" http://localhost:8087/admin/send
```
```
curl -X POST -H "Authorization: Bearer_eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTY2MTUwODU3OCwiZXhwIjoxNjY0MTAwNTc4fQ.DfO96ZYAVsoJqpIrIZ0kGPxgNVOvvPFvHae5CGiHoeU" -H "Content-Type: application/json" -d '{"name":"user1","message":"history 3"}' http://localhost:8087/admin/send
```
–Ω–∞ localhost:8087/admin/send –æ—Ç–ø—Ä–∞–≤–∏—Ç—å
```json
{
  "name" : "user1",
  "message" : "history 3"
}
```

![img_1.png](img_1.png)

–¢–∞–∫–∂–µ —É–∫–∞–∑–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization: Bearer_eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTY2MTUwODU3OCwiZXhwIjoxNjY0MTAwNTc4fQ.DfO96ZYAVsoJqpIrIZ0kGPxgNVOvvPFvHae5CGiHoeU
(–¥–µ–π—Å—Ç–≤—É—é—â–∏–π jwt-—Ç–æ–∫–µ–Ω)

![img_2.png](img_2.png)

–í —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω–æ 3 —Å–æ–æ–±—â–µ–Ω–∏—è

![img_3.png](img_3.png)

